function getURLParameter(n){const e=new URLSearchParams(window.location.search);return e.get(n)}function displayArticleDetails(n){fetch("https://dashboard.taufiqproject.my.id/blogs").then(n=>n.json()).then(e=>{const t=e.find(e=>e.slug===n);if(t){const n=`\n          <div class="section-box">\n              <div class="row g-4">\n                <div class="col-12 col-xl-4">\n                  <h6 class="mono-heading mb-0">Posted by:</h6>\n                  <p>${t.author}</p>\n                </div>\n                <div class="col-12 col-xl-4">\n                  <h6 class="mono-heading mb-0">Category:</h6>\n                  <p>${t.category}</p>\n                </div>\n                <div class="col-12 col-xl-4">\n                  <h6 class="mono-heading mb-0">Posted on:</h6>\n                  <p>${new Date(t.date).toDateString()}</p>\n                </div>\n              </div>\n              <!-- end row -->\n\n              <div class="mt-4">\n                <h1>${t.title}</h1>\n              </div>\n\n              <div class="row g-4 mt-2">\n                <div class="col-12">\n                  <img class="border-radius" src="https://gudrtdnruivalvgpfens.supabase.co/storage/v1/object/public/taufiqproject/blog/${t.image}" alt="${t.title}" loading="lazy" />\n                </div>\n                <div class="col-12">\n                  <h4 class="fw-medium">Article Content</h4>\n                  <p>\n                    ${t.content}\n                  </p>\n                </div>\n              </div>\n              <!-- end row -->\n\n              <!-- Tags -->\n              <ul class="list-inline-pills mt-5">\n                ${t.category.map(n=>`<li><a href="#">#${n}</a></li>`).join(" ")}\n              </ul>\n            </div>\n        `,e=document.querySelector(".blog-details-container");e.insertAdjacentHTML("beforeend",n)}else{const n="<p>Article not found.</p>",e=document.querySelector(".blog-details-container");e.insertAdjacentHTML("beforeend",n)}}).catch(n=>console.error("Error fetching articles:",n))}document.addEventListener("DOMContentLoaded",function(){function n(){e(i),fetch("https://dashboard.taufiqproject.my.id/blogs").then(n=>n.json()).then(n=>{c=n,t(),l(s,i),setupCategoryFilter()}).catch(n=>console.error("Error fetching articles:",n))}function e(n){const e=document.getElementById("blog-container");e.innerHTML="";for(let t=0;t<n;t++){const n='\n        <div class="blog-post-box skeleton-loading">\n          <div class="skeleton-image"></div>\n          <div class="skeleton-text"></div>\n        </div>\n      ';e.insertAdjacentHTML("beforeend",n)}}function t(){const n=document.querySelectorAll(".skeleton-loading");n.forEach(n=>n.remove())}function o(n,e){const t=n.split(" ");return t.length>e?t.slice(0,e).join(" ")+"...":n}function l(n,e){const t=document.getElementById("blog-container"),l=document.querySelector(".load-more-container"),a=Math.min(n+e,c.length);for(let e=n;e<a;e++){const n=c[e],l=(o(n.content,25),o(n.title,5)),a=n.category[0],i=`\n    <div class="blog-post-box">\n        <div class="blog-post-img">\n            <a href="blog-single.html?id=${n.slug}">\n            <img src="https://gudrtdnruivalvgpfens.supabase.co/storage/v1/object/public/taufiqproject/blog/${n.image}" style=" width: 320px height: 100%" alt="${n.title}" loading="lazy" />\n            </a>\n            <div class="blog-post-category">\n                <a href="#">${a}</a> <!-- Gunakan kategori pertama -->\n            </div>\n        </div>\n        <div class="blog-post-caption">\n            <p class="mb-2">Posted on ${new Date(n.date).toDateString()}</p>\n            <h2><a class="link-decoration" href="blog-single.html?id=${n.slug}">${l}</a></h2> <!-- Gunakan judul yang telah dipotong -->\n            <a class="button button-sm button-outline-dark mt-2" href="blog-single.html?id=${n.slug}">Read more</a>\n        </div>\n    </div>\n  `;t.insertAdjacentHTML("beforeend",i)}if(a<c.length){const n=c.length-a,e=`\n    <p class="load-more-info">+${n} more articles available</p>\n  `;l.innerHTML=e,document.getElementById("load-more-btn").style.display="block"}else l.innerHTML="",document.getElementById("load-more-btn").style.display="none"}function a(){s+=i,l(s,i)}const i=4;let s=0,c=[];n(),document.getElementById("load-more-btn").addEventListener("click",a)});const articleSlug=getURLParameter("id");articleSlug&&displayArticleDetails(articleSlug);